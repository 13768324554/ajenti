<vc xmlns:bind="bind">
    <button text="Save" id="save-button" icon="ok" />

    <body>
        <pad>
            <vc id="ajenti-config">
                <formgroup text="HTTP Server" bind="http_binding">
                    <vc>
                        <formline text="Host">
                            <textbox bind="host" />
                        </formline>
                        <formline text="Port">
                            <textbox bind="port" type="integer" />
                        </formline>
                    </vc>
                </formgroup>
                <formgroup text="SSL" bind="ssl">
                    <vc>
                        <formline text="Use SSL">
                            <checkbox bind="enable" />
                        </formline>
                        <formline text="Path to certificate">
                            <textbox bind="certificate_path" />
                        </formline>
                        <formline text="Path to key">
                            <textbox bind="key_path" />
                        </formline>
                    </vc>
                </formgroup>
                <formgroup text="Users">
                    <vc>
                        <formline text="Authentication">
                            <checkbox text="Enable" bind="authentication" />
                        </formline>
                        <formline text="Accounts">
                            <bind:collection 
                                    id="users"
                                    bind="users" 
                                    values="lambda c: c.values()"
                                    add_item="lambda i,c: c.update({i.name: i})"
                                    delete_item="lambda i,c: c.pop(i.name) if i.name != 'root' else None">
                                <vc>
                                    <dt bind="__items" width="400" />
                                    <bind:template>
                                        <collapserow>
                                            <box>
                                                <right>
                                                    <button bind="__delete" icon="remove" text="Delete" style="circle" warning="Confirm deletion" />
                                                </right>
                                                <hc>
                                                    <icon icon="user" />
                                                    <box width="100">
                                                        <editable bind="name" />
                                                    </box>
                                                    <editable bind="password" placeholder="Change password" icon="lock" />
                                                </hc>
                                            </box>
                                            <tabs id="permissions" client="True" />
                                        </collapserow>
                                    </bind:template>
                                    <button bind="__add" icon="plus" text="Create" />
                                </vc>
                            </bind:collection>
                        </formline>
                    </vc>
                </formgroup>
            </vc>
        </pad>
    </body>
</vc>