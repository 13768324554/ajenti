<xsl:template name="small" match="small">
    <div><xsl:value-of select="@text"/></div>
</xsl:template>

<xsl:template match="big">
    <small text="123"/>
</xsl:template>








<widgets xmlns="http://www.w3.org/1999/xhtml"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:py="http://genshi.edgewall.org/"
         py:strip="" >




<!--! Custom HTML widget -->
<py:match path="customhtml">
    <div id="${select('@id')}" />
    <script>
         ui_fill_custom_html('${select('@id')}', '${select('@html')}');
    </script>
</py:match>


<!--! Refresher -->
<py:match path="refresh">
    <script>scheduleRefresh(${str(select('@time'))})</script>
</py:match>


<!--! ErrorBox widget -->
<py:match path="errorbox">
    <div class="ui-el-error" width="${select('@width')}" height="${select('@height')}">
        <div class="ui-el-error-title">
            <label text="${select('@title')}" size="2" />
        </div>
        <div class="ui-el-error-content">
           <img src="/dl/core/ui/warning.png" class="ui-el-error-icon" />
           <label text="${select('@text')}" />
        </div>
    </div>
</py:match>


<!--! PluginPanel widget -->






<!--! Widget for CategoryFolder -->


<!--! DialogBox widget -->
<!--! Attributes
@id
@title
@width
@height
-->
<py:match path="dialogbox">
    <div class="ui-el-modal-blackout" />
    <div class="ui-el-modal-wrapper" id="${select('@id')}-wr">
        <div id="${select('@id')}">
            <input id="${select('@id')}-url" type="hidden" name="url" value="/handle/dialog/submit/${select('@id')}"/>
            <div class="ui-el-dialog" width="${select('@width')}" height="${select('@height')}">
                <div class="ui-el-dialog-title"><label text="${select('@title')}" size="2" /></div>
                <div class="ui-el-dialog-content">
                    ${select('node()')}
                    <div class="ui-el-modal-buttons">
                        <table cellspacing="0" cellpadding="0">
                            <tr>
                            <py:choose test="">
                                <td py:when="str(select('@hideok'))" />
                                <td py:otherwise=""><button text="OK" onclick="form" action="OK" form="${select('@id')}"/></td>
                            </py:choose>
                            <py:choose test="">
                                <td py:when="str(select('@hidecancel'))" />
                                <td py:otherwise=""><button text="Cancel" onclick="form" action="Cancel" form="${select('@id')}"/></td>
                            </py:choose>
                            <py:choose test="">
                                <td py:when="str(select('@miscbtn'))"><button id="${select('@miscbtnid')}" text="${select('@miscbtn')}" /></td>
                                <td py:otherwise=""/>
                            </py:choose>
                        </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script> ui_center('${select('@id')}-wr'); </script>
</py:match>


<!--! FormBox widget -->

<py:match path="formbox">
        <div id="${select('@id')}">
                <input id="${select('@id')}-url" type="hidden" name="url" value="/handle/form/submit/${select('@id')}"/>
                ${select('node()')}
                <div class="ui-el-modal-buttons">
                <table cellspacing="0" cellpadding="0">
                    <tr>
                    <py:choose test="">
                         <td py:when="str(select('@hideok'))" />
                         <td py:otherwise=""><button text="OK" onclick="form" action="OK" form="${select('@id')}"/></td>
                    </py:choose>
                    <py:choose test="">
                         <td py:when="str(select('@hidecancel'))" />
                         <td py:otherwise=""><button text="Cancel" onclick="form" action="Cancel" form="${select('@id')}"/></td>
                    </py:choose>
                    <py:choose test="">
                        <td py:when="str(select('@miscbtn'))"><button id="${select('@miscbtnid')}" text="${select('@miscbtn')}" /></td>
                        <td py:otherwise=""/>
                    </py:choose>
                   </tr>
                </table>
            </div>
        </div>
</py:match>

<!--! ProgressBox widget -->

<py:match path="progressbox">
    <div class="ui-el-modal-blackout" />
    <div class="ui-el-modal-wrapper" id="${select('@id')}-wr">
            <div class="ui-el-dialog" width="${select('@width')}" height="${select('@height')}">
                <div class="ui-el-dialog-title"><label text="${select('@title')}" size="2" /></div>
                <div class="ui-el-dialog-content">
                    <vcontainer>
                        <vnode><image file="/dl/core/ui/ajax-big.gif" /></vnode>
                        <vnode><spacer height="10" /></vnode>
                        <vnode><label text="${select('@status')}" /></vnode>
                    </vcontainer>
                </div>
            </div>
    </div>
    <script>
        scheduleRefresh(3000);
        ui_center('${select('@id')}-wr');
    </script>
</py:match>

<!--! InputBox widget -->

<py:match path="inputbox">
    <div class="ui-el-modal-blackout" />
    <div class="ui-el-modal-wrapper" id="${select('@id')}-wr">
        <div name="${select('@id')}" id="${select('@id')}">
            <div class="ui-el-dialog" width="${select('@width')}" height="${select('@height')}">
                <input id="${select('@id')}-url" type="hidden" name="url" value="/handle/dialog/submit/${select('@id')}"/>
                <div class="ui-el-dialog-title"><label text="${select('@title')}" size="2" /></div>
                <div class="ui-el-dialog-content">
                    <vcontainer>
                        <vnode><label text="${select('@text')}"/></vnode>
                        <vnode><textinput name="value" value="${select('@value')}"/></vnode>
                    </vcontainer>
                    <div class="ui-el-modal-buttons">
                        <hcontainer>
                            <hnode><button text="OK" onclick="form" action="OK" form="${select('@id')}"/></hnode>
                            <hnode><button text="Cancel" onclick="form" action="Cancel" form="${select('@id')}"/></hnode>
                        </hcontainer>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        ui_center('${select('@id')}-wr');
    </script>
</py:match>

<!--! VContainer widget -->




<!--! Spacer -->



<!--! Label widget -->



<!--! Button widget -->
        <a py:when="str(select('@onclick')) == 'form'" href="#"
                onclick="javascript:return ajaxForm('${select('@form')}', '${select('@action')}');">
            <div class="ui-el-button"> ${select('@text')} </div>
        </a>


<!--! WarningButton widget -->
<py:match path="warningbutton">
    <py:choose test="">
        <a href="#" onclick="javascript:if (confirm('Are you sure?')) return ajax('/handle/button/click/${select('@id')}');">
            <div class="ui-el-button"> ${select('@text')} </div>
        </a>
    </py:choose>
</py:match>

<!--! MiniButton widget -->
<py:match path="minibutton">
    <a href="#" onclick="javascript:return ajax('/handle/minibutton/click/${select('@id')}');">
        <div class="ui-el-minibutton"> ${select('@text')} </div>
    </a>
</py:match>

<!--! WarningMiniButton widget -->
<py:match path="warningminibutton">
    <a href="#" onclick="javascript:if (confirm('Are you sure?')) return ajax('/handle/minibutton/click/${select('@id')}');">
        <div class="ui-el-minibutton"> ${select('@text')} </div>
    </a>
</py:match>


<!--! LinkLabel widget -->
<py:match path="linklabel">
    <a href="#" onclick="javascript:return ajax('/handle/linklabel/click/${select('@id')}');">
        <span class="ui-el-link">
            ${select('@text')}
        </span>
    </a>
</py:match>


<!--! OutLinkLabel widget -->
<py:match path="outlinklabel">
    <a href="${select('@url')}" target="blank">
        <span class="ui-el-link">
            ${select('@text')}
        </span>
    </a>
</py:match>


<!--! TextInput widget -->
<py:match path="textinput">
    <input class="ui-el-input" name="${select('@name')}" value="${dequote(str(select('@value'))) or ''}" id="${select('@id')}" size="${str(select('@size')) or ''}" onkeypress="return noenter()"/>
</py:match>


<!--! CheckBox widget -->
<py:match path="checkbox">
    <input class="ui-el-checkbox" type="checkbox" value="${select('@value')}" name="${select('@name')}" id="${select('@id')}" checked="${'checked' if str(select('@checked'))=='True' else None}" onkeypress="return noenter()"/>
    <span class="ui-el-label-1">
            ${select('@text')}
    </span>
</py:match>

<!--! SelectOption widget -->
<py:match path="selectoption">
    <option value="${select('@value')}" selected="${'selected' if str(select('@selected'))=='True' else None}" onkeypress="return noenter()">
        ${select('@text')}
    </option>
</py:match>

<!--! Radio widget -->
<py:match path="radio">
    <input class="ui-el-radio" type="radio" value="${select('@value')}" name="${select('@name')}" id="${select('@id')}" checked="${'checked' if str(select('@checked'))=='True' else None}" onkeypress="return noenter()"/>
    <span class="ui-el-label-1">
            ${select('@text')}
    </span>
</py:match>





<!--! TreeContainer widget -->
<py:match path="treecontainer">
    <div class="ui-el-treecontainernode">
        <a href="#">
            <div class="ui-el-treecontainernode-title" onclick="javascript:ui_showhide('${select('@id')}');ajaxNoUpdate('/handle/treecontainer/click/${select('@id')}');ui_treeicon('${select('@id')}-btn');return false">
                <div class="ui-el-treecontainernode-button">
                    <img id="${select('@id')}-btn" src="/dl/core/ui/tree-${'minus' if str(select('@expanded'))=='True' else 'plus'}.png" />
                </div>
                ${select('@text')}
            </div>
        </a>
        <div class="ui-el-treecontainernode-inner" id="${select('@id')}" style="${'display:none;' if str(select('@expanded'))!='True' else None}">
            ${select('node()')}
        </div>
    </div>
</py:match>

<py:match path="treecontainernode">
    <div class="ui-el-treecontainernode-title">
        <div class="ui-el-treecontainernode-inner">
            ${select('node()')}
        </div>
    </div>
</py:match>


<!--! ScrollContainer -->



<!--! TextInputArea -->
<py:match path="textinputarea">
    <textarea class="ui-el-textarea" name="${select('@name')}" disabled="${str(select('@disabled')) or None}" style="width: ${str(select('@width')) or '200'}px; height: ${str(select('@height')) or '200'}px;">${dequote(select('@text'))}</textarea>
</py:match>

<!--! Tabs -->
<py:match path="tabheader">
    <a href="#">
        <div class="ui-el-tab-header" id="tabheader-${select('@pid')}-${select('@id')}" onclick="javascript:ui_tabswitch('${select('@pid')}','${select('@id')}')">
            ${select('@text')}
        </div>
    </a>
</py:match>

<py:match path="tabheadernode">
    <tr>
        <td id="${select('@id')}" class="ui-el-tab-header-box">
            ${select('node()')}
        </td>
    </tr>
</py:match>

<py:match path="tabbody">
    <span class="ui-el-tab-body" id="tabbody-${select('@pid')}-${select('@id')}">
        ${select('node()')}
    </span>
</py:match>

<py:match path="tabcontrol">
    <table>
        ${select('node()')}
    </table>
    <script>
        ui_tabswitch('${select('@id')}', '${str(select('@active')) or '0'}');
    </script>
</py:match>


<!--! Progress bar -->


</widgets>

